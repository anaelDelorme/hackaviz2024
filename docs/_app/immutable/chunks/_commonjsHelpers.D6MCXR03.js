import{w,r as W}from"./index.D_caKQwA.js";import{K as z}from"./scheduler.D6UdpaCp.js";import"./index.CPLwl4nY.js";function oe(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}const X=w(void 0);function ne(e,t){const{computePosition:r,autoUpdate:u,offset:h,shift:v,flip:d,arrow:p,size:E,autoPlacement:i,hide:l,inline:b}=z(X),s={open:!1,autoUpdateCleanup:()=>{}},C=':is(a[href], button, input, textarea, select, details, [tabindex]):not([tabindex="-1"])';let L;const f="https://www.skeleton.dev/utilities/popups";let o,S;function x(){o=document.querySelector(`[data-popup="${t.target}"]`)??document.createElement("div"),S=o.querySelector(".arrow")??document.createElement("div")}x();function $(){var a,m,U,D,F,I,T,g;if(!o)throw new Error(`The data-popup="${t.target}" element was not found. ${f}`);if(!r)throw new Error(`Floating UI 'computePosition' not found for data-popup="${t.target}". ${f}`);if(!h)throw new Error(`Floating UI 'offset' not found for data-popup="${t.target}". ${f}`);if(!v)throw new Error(`Floating UI 'shift' not found for data-popup="${t.target}". ${f}`);if(!d)throw new Error(`Floating UI 'flip' not found for data-popup="${t.target}". ${f}`);if(!p)throw new Error(`Floating UI 'arrow' not found for data-popup="${t.target}". ${f}`);const n=[];E&&n.push(E((a=t.middleware)==null?void 0:a.size)),i&&n.push(i((m=t.middleware)==null?void 0:m.autoPlacement)),l&&n.push(l((U=t.middleware)==null?void 0:U.hide)),b&&n.push(b((D=t.middleware)==null?void 0:D.inline)),r(e,o,{placement:t.placement??"bottom",middleware:[h(((F=t.middleware)==null?void 0:F.offset)??8),v(((I=t.middleware)==null?void 0:I.shift)??{padding:8}),d((T=t.middleware)==null?void 0:T.flip),p(((g=t.middleware)==null?void 0:g.arrow)??{element:S||null}),...n]}).then(({x:H,y:J,placement:K,middlewareData:R})=>{if(Object.assign(o.style,{left:`${H}px`,top:`${J}px`}),S){const{x:j,y:q}=R.arrow,V={top:"bottom",right:"left",bottom:"top",left:"right"}[K.split("-")[0]];Object.assign(S.style,{left:j!=null?`${j}px`:"",top:q!=null?`${q}px`:"",right:"",bottom:"",[V]:"-4px"})}})}function y(){o&&(s.open=!0,t.state&&t.state({state:s.open}),$(),o.style.display="block",o.style.opacity="1",o.style.pointerEvents="auto",o.removeAttribute("inert"),s.autoUpdateCleanup=u(e,o,$),L=Array.from(o==null?void 0:o.querySelectorAll(C)))}function c(n){if(!o)return;const a=parseFloat(window.getComputedStyle(o).transitionDuration.replace("s",""))*1e3;setTimeout(()=>{s.open=!1,t.state&&t.state({state:s.open}),o.style.opacity="0",o.setAttribute("inert",""),s.autoUpdateCleanup&&s.autoUpdateCleanup(),n&&n()},a)}function M(){s.open===!1?y():c()}function A(n){if(s.open===!1||e.contains(n.target))return;if(o&&o.contains(n.target)===!1){c();return}const a=t.closeQuery===void 0?"a[href], button":t.closeQuery;if(a==="")return;const m=o==null?void 0:o.querySelectorAll(a);m==null||m.forEach(U=>{U.contains(n.target)&&c()})}const O=n=>{if(s.open===!1)return;const a=n.key;if(a==="Escape"){n.preventDefault(),e.focus(),c();return}L=Array.from(o==null?void 0:o.querySelectorAll(C)),s.open&&document.activeElement===e&&(a==="ArrowDown"||a==="Tab")&&C.length>0&&L.length>0&&(n.preventDefault(),L[0].focus())};switch(t.event){case"click":e.addEventListener("click",M,!0),window.addEventListener("click",A,!0);break;case"hover":e.addEventListener("mouseover",y,!0),e.addEventListener("mouseleave",()=>c(),!0);break;case"focus-blur":e.addEventListener("focus",M,!0),e.addEventListener("blur",()=>c(),!0);break;case"focus-click":e.addEventListener("focus",y,!0),window.addEventListener("click",A,!0);break;default:throw new Error(`Event value of '${t.event}' is not supported. ${f}`)}return window.addEventListener("keydown",O,!0),$(),{update(n){c(()=>{t=n,$(),x()})},destroy(){e.removeEventListener("click",M,!0),e.removeEventListener("mouseover",y,!0),e.removeEventListener("mouseleave",()=>c(),!0),e.removeEventListener("focus",M,!0),e.removeEventListener("focus",y,!0),e.removeEventListener("blur",()=>c(),!0),window.removeEventListener("click",A,!0),window.removeEventListener("keydown",O,!0)}}}const P={};function Q(e){return e==="local"?localStorage:sessionStorage}function k(e,t,r){const u=(r==null?void 0:r.serializer)??JSON,h=(r==null?void 0:r.storage)??"local";function v(d,p){Q(h).setItem(d,u.stringify(p))}if(!P[e]){const d=w(t,i=>{const l=Q(h).getItem(e);l&&i(u.parse(l));{const b=s=>{s.key===e&&i(s.newValue?u.parse(s.newValue):null)};return window.addEventListener("storage",b),()=>window.removeEventListener("storage",b)}}),{subscribe:p,set:E}=d;P[e]={set(i){v(e,i),E(i)},update(i){const l=i(z(d));v(e,l),E(l)},subscribe:p}}return P[e]}const Y=k("modeOsPrefers",!1),B=k("modeUserPrefers",void 0),Z=k("modeCurrent",!1);function re(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return Y.set(e),e}function se(e){B.set(e)}function ae(e){const t=document.documentElement.classList,r="dark";e===!0?t.remove(r):t.add(r),Z.set(e)}function ie(){const e=document.documentElement.classList,t=localStorage.getItem("modeUserPrefers")==="false",r=!("modeUserPrefers"in localStorage),u=window.matchMedia("(prefers-color-scheme: dark)").matches;t||r&&u?e.add("dark"):e.remove("dark")}const G="(prefers-reduced-motion: reduce)";function _(){return window.matchMedia(G).matches}W(_(),e=>{{const t=u=>{e(u.matches)},r=window.matchMedia(G);return r.addEventListener("change",t),()=>{r.removeEventListener("change",t)}}});const ue=w(document.body.getAttribute("data-theme")??"");k("storeOnboardMethod","cli");const ce=w("Jeux Olympiques"),le=w("2024-08-03 10:00:00+00:00"),de=w("Stade tour Eiffel");var fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function me(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}export{ae as a,se as b,me as c,X as d,ue as e,oe as f,re as g,fe as h,le as i,de as j,ce as k,Z as m,ne as p,ie as s};
